(()=>{"use strict";const e=document.getElementById("weatherParagraph"),t=document.getElementById("imgDiv");let n="",a="",s="",h="",c="",l=0,i=0,o=0,r=0;async function d(d){try{t.classList="weather",e.innerHTML='<div class="spinner-border" role="status">\n  <span class="sr-only">Loading...</span>\n</div>';const m=await fetch(d,{mode:"cors"}),p=await m.json();e.innerHTML=`<h3 class="">${p.name}, ${p.sys.country}</h3 class="">\n     <h1 class="">${Math.round(p.main.temp-273.15)} <button type="button" class="change btn btn-light fs-1 ms-2" id="change"> C</button></h1>\n     <h4 class="">${p.weather[0].main}<img src="http://openweathermap.org/img/wn/${p.weather[0].icon}@2x.png" alt="weather icon"></h4>\n     <h4 class="">Wind speed: ${p.wind.speed} m/h</h4>\n     <h4 class="">Real feel: ${Math.round(p.main.feels_like-273.15)} C</h4>`;let g=p.weather[0].id;console.log(g),g<600?t.classList="rain":g<700?t.classList="snow":g<800?t.classList="fog":800===g?t.classList="sun":g>800&&(t.classList="clouds"),l=Math.round(1.8*(p.main.temp-273.15)+32),i=Math.round(1.8*(p.main.feels_like-273.15)+32),n=p.name,a=p.sys.country,s=p.weather[0].main,h=p.wind.speed,c=p.weather[0].icon,o=Math.round(p.main.temp-273.15),r=Math.round(p.main.feels_like-273.15)}catch(e){console.error(e),alert("City not found")}}document.addEventListener("DOMContentLoaded",d("http://api.openweathermap.org/data/2.5/weather?q=Ulcinj&APPID=ea056517cfd579edd873aeaf2255944e"));const m=document.querySelector("form");let p=!1;m.addEventListener("submit",(e=>{e.preventDefault(),d(`http://api.openweathermap.org/data/2.5/weather?q=${m[0].value}&APPID=ea056517cfd579edd873aeaf2255944e`),p=!0})),document.getElementById("weatherParagraph").addEventListener("click",(t=>{t.preventDefault(),t.target.classList.contains("change")&&(p?(e.innerHTML=`<h3 class="">${n}, ${a}</h3 class="">\n  <h1 class="">${l} <button type="button" class="change btn btn-light fs-1 ms-2" id="change">  F</button></h1>\n  <h4 class="">${s}<img src="http://openweathermap.org/img/wn/${c}@2x.png" alt="weather icon"></h4>\n  <h4 class="">Wind speed: ${h} m/h</h4>\n  <h4 class="">Real feel: ${i} F</h4>`,p=!1):(e.innerHTML=`<h3 class="">${n}, ${a}</h3 class="">\n  <h1 class="">${o} <button type="button" class="change btn btn-light fs-1 ms-2" id="change">  F</button></h1>\n  <h4 class="">${s}<img src="http://openweathermap.org/img/wn/${c}@2x.png" alt="weather icon"></h4>\n  <h4 class="">Wind speed: ${h} m/h</h4>\n  <h4 class="">Real feel: ${r} F</h4>`,p=!0))}))})();